theory RequirementLemmas
  imports VCTheoryLemmas
begin

definition always_imp where "always_imp s A A' \<equiv> \<forall> s1. toEnvP s1 \<and> s1 \<le> s \<and> A s1 \<longrightarrow> A' s1"

named_theorems patternintro
named_theorems invsaving
named_theorems inv_req
named_theorems add_rules
named_theorems pastinv
named_theorems einvs

lemma all_disj_rule[patternintro]: "always_imp s A A' \<and> always_imp s B B' \<Longrightarrow>
always_imp s (\<lambda> s1. A s1 \<or> B s1) (\<lambda> s1. A' s1 \<or> B' s1)"
  apply(unfold always_imp_def)
  by auto

lemma all_conj_rule[patternintro]: "always_imp s A A' \<and> always_imp s B B' \<Longrightarrow>
always_imp s (\<lambda> s1. A s1 \<and> B s1) (\<lambda> s1. A' s1 \<and> B' s1)"
  apply(unfold always_imp_def)
  by auto

lemma all_imp_refl: " always_imp s A A"
  apply(unfold always_imp_def)
  by auto

(*
lemma all_imp_rule:  "(b' \<longrightarrow> b \<and> (\<forall> s1. toEnvP s1 \<and> substate s1 s \<and> P s1 \<longrightarrow> P' s1)) \<Longrightarrow>
(\<forall> s1. toEnvP s1 \<and> substate s1 s \<and> (b \<longrightarrow> P s1) \<longrightarrow> (b' \<longrightarrow> P' s1))"
  apply auto
  done

lemma all_disj_inv_rule: 
"((\<forall> s1. toEnvP s1 \<and> substate s1 s \<and> P s1 \<longrightarrow> P' s1) \<or> b2 \<and> (\<forall> s1. toEnvP s1 \<and> substate s1 s \<and> Q s1 \<longrightarrow> Q' s1)) \<and>
((\<forall> s1. toEnvP s1 \<and> substate s1 s \<and> Q s1 \<longrightarrow> Q' s1) \<or> b1 \<and> (\<forall> s1. toEnvP s1 \<and> substate s1 s \<and> P s1 \<longrightarrow> P' s1)) \<and>
(b1'\<longrightarrow> b1 \<and> (\<forall> s1. toEnvP s1 \<and> substate s1 s \<and> P s1 \<longrightarrow> P' s1)) \<and>
(b2' \<longrightarrow> b2 \<and> (\<forall> s1. toEnvP s1 \<and> substate s1 s \<and> Q s1 \<longrightarrow> Q' s1)) \<Longrightarrow>
(\<forall> s1. toEnvP s1 \<and> substate s1 s \<and> ((P s1 \<or> Q s1) \<and> (b1 \<longrightarrow> P s1) \<and> (b2 \<longrightarrow> Q s1)) \<longrightarrow>
(P' s1 \<or> Q' s1) \<and> (b1' \<longrightarrow> P' s1) \<and> (b2' \<longrightarrow> Q' s1))"
  apply auto
  done
*)

end